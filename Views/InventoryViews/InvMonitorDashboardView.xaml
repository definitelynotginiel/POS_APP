<UserControl x:Class="POS_APP.Views.InventoryViews.InvMonitorDashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="1000" d:DesignWidth="800">

    <Grid Background="AliceBlue">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="*"/>
            <!-- Middle content -->
            <RowDefinition Height="Auto"/>
            <!-- Bottom buttons -->
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Padding="10 10"  Grid.Row="0" Text="Inventory Monitoring Dashboard"
                   FontSize="22" FontWeight="Bold" Margin="0,0,0,10"/>

        <!-- Middle content -->
        <StackPanel Grid.Row="1">
            <!-- Category Filter -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                <TextBlock Text="Categories:" VerticalAlignment="Center" FontSize="16" Margin="0,0,8,0"/>
                <ComboBox Width="200"
                          ItemsSource="{Binding ItemCategories}"
                          SelectedItem="{Binding SelectedCategory, Mode=TwoWay}"
                          FontSize="16"/>
            </StackPanel>

            <!-- Inventory DataGrid -->
            <DataGrid ItemsSource="{Binding InventoryItems}"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      FontSize="16"
                      Margin="0,0,0,12"
                      SelectedItem="{Binding SelectedInventoryItem, Mode=TwoWay}">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Item Name" Binding="{Binding Name}" Width="*"/>
                    <DataGridTextColumn Header="Packs" Binding="{Binding Packs}" Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Quantity" Binding="{Binding QuantityDisplay}" Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Stock Status" Binding="{Binding StockStatus}" Width="*" IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>

            <!-- Expiration Summary Box -->
            <Border BorderBrush="Gray" BorderThickness="1" Padding="10" Margin="0,0,0,20" CornerRadius="6">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <TextBlock Text="Near Expiry Packs: " FontSize="16" FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding NearExpiryCount}" FontSize="16"/>
                    <TextBlock Text="Expired Packs: " FontSize="16" FontWeight="SemiBold" Margin="20,0,0,0"/>
                    <TextBlock Text="{Binding ExpiredCount}" FontSize="16"/>
                </StackPanel>
            </Border>
        </StackPanel>

        <!-- Bottom buttons -->
        <WrapPanel Grid.Row="2" HorizontalAlignment="Left">
            <Button Content="Stock Out Items" Command="{Binding GoToStockOutCommand}" Width="180" FontSize="16" Margin="0,0,12,0"/>
            <Button Content="Inventory Registry"  Width="180" FontSize="16" Margin="0,0,12,0"/>
            <Button Content="Expiration Tracking" Command="{Binding GoToExpireTrackCommand}"  Width="180" FontSize="16"/>
        </WrapPanel>
    </Grid>
</UserControl>
