<UserControl x:Class="POS_APP.Views.InventoryViews.InvStockOutView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:POS_APP.Views.InventoryViews"
             mc:Ignorable="d" 
             d:DesignHeight="1000" d:DesignWidth="1000">
    <Grid Background="AliceBlue" Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Header -->
        <TextBlock Grid.ColumnSpan="2" 
                   Text="Stock Out Items" 
                   FontSize="22" 
                   FontWeight="Bold" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,16"/>

        <!-- Left column: category + item list -->
        <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,16,0">
            <TextBlock Text="Select Category" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <ComboBox ItemsSource="{Binding ItemCategories}" 
                      SelectedItem="{Binding SelectedCategory}" 
                      Margin="0,0,0,12"/>

            <TextBlock Text="Search Item" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <TextBox Text="{Binding SearchQuery}" Margin="0,0,0,12"/>

            <TextBlock Text="Select Item Type" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <ListBox ItemsSource="{Binding FilteredItems}" 
                     SelectedItem="{Binding SelectedItem}" 
                     Height="400"/>
        </StackPanel>

        <!-- Right column: stock out form -->
        <StackPanel Grid.Row="1" Grid.Column="1" Margin="0,0,0,0">

            <TextBlock Text="Item Type to be Stocked Out" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <TextBox Text="{Binding NewItemName}" Margin="0,0,0,12"/>

            <TextBlock Text="Estimated Cost of Item/s to be Stocked Out" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <TextBox Text="{Binding NewItemCost}" Margin="0,0,0,12"/>

            <TextBlock Text="Item Pack/s Expiration Date" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <DatePicker SelectedDate="{Binding NewExpirationDate}" Margin="0,0,0,12"/>

            <TextBlock Text="Reason for Stocking Out" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <ComboBox ItemsSource="{Binding StockOutReasons}" 
                      SelectedItem="{Binding SelectedReason}" 
                      Margin="0,0,0,12"/>

            <TextBlock Text="Item Pack Quantity" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <TextBox Text="{Binding NewPackQuantity}" Margin="0,0,0,12"/>

            <TextBlock Text="Unit Measurement Per Pack" FontWeight="SemiBold" Margin="0,0,0,4"/>
            <ComboBox ItemsSource="{Binding UnitMeasurementTypes}" 
                      SelectedItem="{Binding NewUnit}" 
                      Margin="0,0,0,12"/>

            <TextBlock Text="Items to be Stocked Out" FontWeight="Bold" Margin="0,16,0,4"/>
            <ListBox ItemsSource="{Binding StockOutList}" Height="120"/>

            <Button Content="Stock Out" 
                    Command="{Binding StockOutCommand}" 
                    Width="120" Height="40" 
                    HorizontalAlignment="Left" 
                    Margin="0,12,0,0"/>
        </StackPanel>

        <!-- Footer -->
        <Button Grid.Row="2" Grid.Column="0" Content="Back to Monitoring Dashboard"
                Command="{Binding BackCommand}" 
                Margin="0,12,0,0" Height="40"/>
    </Grid>
</UserControl>
